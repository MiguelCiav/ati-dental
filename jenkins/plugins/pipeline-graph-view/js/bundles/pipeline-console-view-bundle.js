const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./assets/ConsoleLogStream-C9dO1XwQ.js","./assets/tree-api-Ck4yTsvp.js","./assets/symbols-ClSksSSm.js","./assets/stages-DMOL5Gn-.js"])))=>i.map(i=>d[i]);
(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(':root{--pgv-header-height: var(--header-height, 45.5938px);--ansi-0: var(--black);--ansi-1: var(--red);--ansi-2: var(--green);--ansi-3: var(--orange);--ansi-4: var(--blue);--ansi-5: var(--purple);--ansi-6: var(--cyan);--ansi-7: var(--white);--ansi-8: var(--text-color-secondary);--ansi-9: oklch(from var(--ansi-1) calc(l*1.125) calc(c/.8) h);--ansi-10: oklch(from var(--ansi-2) calc(l*1.125) calc(c/.8) h);--ansi-11: oklch(from var(--ansi-3) calc(l*1.125) calc(c/.8) h);--ansi-12: oklch(from var(--ansi-4) calc(l*1.125) calc(c/.8) h);--ansi-13: oklch(from var(--ansi-5) calc(l*1.125) calc(c/.8) h);--ansi-14: oklch(from var(--ansi-6) calc(l*1.125) calc(c/.8) h);--ansi-15: oklch(from var(--ansi-7) calc(l/.8) c h)}.ansi-fg-0{color:var(--ansi-0)}.ansi-fg-1{color:var(--ansi-1)}.ansi-fg-2{color:var(--ansi-2)}.ansi-fg-3{color:var(--ansi-3)}.ansi-fg-4{color:var(--ansi-4)}.ansi-fg-5{color:var(--ansi-5)}.ansi-fg-6{color:var(--ansi-6)}.ansi-fg-7{color:var(--ansi-7)}.ansi-fg-8{color:var(--ansi-8)}.ansi-fg-9{color:var(--ansi-9)}.ansi-fg-10{color:var(--ansi-10)}.ansi-fg-11{color:var(--ansi-11)}.ansi-fg-12{color:var(--ansi-12)}.ansi-fg-13{color:var(--ansi-13)}.ansi-fg-14{color:var(--ansi-14)}.ansi-fg-15{color:var(--ansi-15)}.ansi-bg-0{background:var(--ansi-0)}.ansi-bg-1{background:var(--ansi-1)}.ansi-bg-2{background:var(--ansi-2)}.ansi-bg-3{background:var(--ansi-3)}.ansi-bg-4{background:var(--ansi-4)}.ansi-bg-5{background:var(--ansi-5)}.ansi-bg-6{background:var(--ansi-6)}.ansi-bg-7{background:var(--ansi-7)}.ansi-bg-8{background:var(--ansi-8)}.ansi-bg-9{background:var(--ansi-9)}.ansi-bg-10{background:var(--ansi-10)}.ansi-bg-11{background:var(--ansi-11)}.ansi-bg-12{background:var(--ansi-12)}.ansi-bg-13{background:var(--ansi-13)}.ansi-bg-14{background:var(--ansi-14)}.ansi-bg-15{background:var(--ansi-15)}.ansi-bold{font-weight:700}.ansi-faint{opacity:.5}.ansi-italic{font-style:italic}.ansi-underline{text-decoration-line:underline}.ansi-strikethrough{text-decoration-line:line-through}.ansi-underline.ansi-strikethrough{text-decoration-line:underline line-through}.pgv-sticky-sidebar{position:sticky;top:calc(var(--pgv-header-height) + var(--section-padding))}.pgv-skeleton-column{display:flex;flex-direction:column;gap:.75rem}.pgv-skeleton{background:var(--button-background);border:1.5px solid color-mix(in srgb,var(--text-color-secondary) 3%,transparent);border-radius:var(--form-input-border-radius);height:100%;animation:pulse-skeleton 2s both ease-in-out infinite}@keyframes pulse-skeleton{50%{background:var(--button-background--active)}}.pgv-stages-customization{display:grid;grid-template-columns:auto 1fr auto;padding-right:.6rem;min-width:220px}.pgv-stages-customization span{color:var(--text-color-secondary)}.pgv-stages-customization select{position:absolute;inset:0;opacity:0;cursor:pointer}.pgv-stages-customization:has(select:disabled){opacity:.5;pointer-events:none}.pgw-filter-bar{position:relative;display:grid;grid-template-columns:1fr auto;margin-bottom:.75rem}.pgw-filter-bar:before{content:"";position:absolute;inset:0;background:var(--card-background);border:var(--card-border-width) solid var(--card-border-color);border-radius:var(--form-input-border-radius);box-shadow:var(--form-input-glow);transition:var(--standard-transition)}.pgw-filter-bar button{border-radius:.4rem;padding-inline:0;width:42px}.pgw-filter-bar button:before,.pgw-filter-bar button:after{inset:5px}.pgw-filter-bar .jenkins-search{--search-bar-height: 2.625rem}.pgw-filter-bar .jenkins-search input{border:none!important;box-shadow:none!important;background:none!important;padding:0 0 0 var(--search-bar-height)}.pgw-filter-bar:hover:before{border-color:var(--input-border-hover)}.pgw-filter-bar:has(input:focus):before{border-color:var(--focus-input-border);box-shadow:var(--form-input-glow--focus)}.pgv-tree{padding:0;display:flex;flex-direction:column;gap:.125rem;margin:0}.pgv-tree-stage{position:relative;margin:0;padding:0;display:flex;flex-direction:column;gap:.125rem}.pgv-tree-item-container{position:relative;appearance:none;z-index:0;font-weight:400;border-radius:var(--form-input-border-radius);cursor:pointer;background:transparent;outline:none;border:none}.pgv-tree-item-container:before,.pgv-tree-item-container:after{position:absolute;content:"";inset:0;z-index:-1;border-radius:inherit;transition:var(--standard-transition);pointer-events:none}.pgv-tree-item-container:before{background-color:var(--item-background);border:var(--jenkins-border--subtle)}.pgv-tree-item-container:after{box-shadow:0 0 0 .5rem transparent}.pgv-tree-item-container:focus-visible{outline:none}.pgv-tree-item-container:not(:disabled):hover:before,.pgv-tree-item-container:not(:disabled):focus-visible:before,.pgv-tree-item-container:not(:disabled)[aria-describedby]:before,.pgv-tree-item-container:not(:disabled)[aria-expanded=true]:before{background-color:var(--item-background--hover)}.pgv-tree-item-container:not(:disabled):active{outline:none!important;z-index:1}.pgv-tree-item-container:not(:disabled):active:before{background-color:var(--item-background--active)}.pgv-tree-item-container:not(:disabled):active:active:after{box-shadow:0 0 0 .25rem var(--item-box-shadow--focus)}.pgv-tree-item-container:not(:disabled):has(.pgv-tree-item--active):before{background-color:var(--item-background--active)}.pgv-tree-item-container:not(:disabled):focus-visible:after{box-shadow:0 0 0 .2rem var(--text-color)!important;opacity:1!important}.pgv-tree-item-container:not(:hover,.pgv-tree-item-container:active,.pgv-tree-item-container:focus,.pgv-tree-item-container:has(.pgv-tree-item--active)):before{border-color:transparent}.pgv-tree-item{display:grid;grid-template-columns:auto 1fr auto;justify-content:start;align-items:center;text-decoration:none;color:var(--text-color);position:relative;padding:.5rem .7rem;-webkit-mask-image:linear-gradient(90deg,white calc(100% - 3rem),transparent calc(100% - 2rem));mask-image:linear-gradient(90deg,white calc(100% - 3rem),transparent calc(100% - 2rem))}.pgv-tree-item:visited,.pgv-tree-item:link{color:inherit;text-decoration:none}.pgv-tree-item--active{font-weight:450}.pgv-tree-item--active .pgv-status-icon svg>*{stroke-width:35px}.pgv-tree-item__content{display:grid;grid-template-columns:auto 1fr;align-items:start;gap:.65rem;min-width:0}.pgv-tree-item__info{display:flex;flex-direction:row;gap:.65rem}.pgv-tree-item__name,.pgv-tree-item__description{overflow:hidden;white-space:nowrap}.pgv-tree-item__description{color:var(--text-color-secondary)}.pgv-tree-item__toggle{position:absolute;top:0;right:0;bottom:0;aspect-ratio:1;transition:var(--standard-transition);appearance:none;background:none;padding:0;border:none;cursor:pointer;color:var(--text-color-secondary);z-index:1}.pgv-tree-item__toggle--active{rotate:90deg}.pgv-tree-item__toggle svg{width:1rem;height:1rem}.pgv-tree-item__toggle svg *{stroke-width:42px}.pgv-tree-item__toggle:hover{color:var(--text-color)}.pgv-tree-item--skeleton{pointer-events:none;color:var(--text-color-secondary)!important}.pgv-status-icon{display:flex;align-items:center}.pgv-status-icon svg{width:1.375rem;height:1.375rem}.pgv-tree-children{position:relative;display:flex;flex-direction:column;padding-left:2.075rem}.pgv-tree-children:before{content:"";position:absolute;top:.375rem;left:calc(1.3875rem - var(--jenkins-border-width/2));bottom:.375rem;background-color:var(--jenkins-border-color);width:var(--jenkins-border-width);border-radius:var(--form-input-border-radius)}.pgv-filter-button{transition:var(--standard-transition)}.pgv-filter-button svg{width:1.375rem;height:1.375rem}.pgv-filter-button--unchecked{opacity:.75;color:var(--text-color-secondary)!important}.jenkins-dropdown__heading{display:grid;grid-template-columns:1fr auto}.pgv-reset-button{padding:0;min-height:0}.pgv-reset-button:before,.pgv-reset-button:after{display:none}.pgv-scroll-to-top-bottom{position:fixed;bottom:var(--section-padding);right:calc(var(--section-padding) * 2);display:flex;gap:.375rem;padding:.375rem;border-radius:100px;box-shadow:var(--dropdown-box-shadow);background:color-mix(in sRGB,var(--card-background) 85%,transparent);-webkit-backdrop-filter:var(--dropdown-backdrop-filter);backdrop-filter:var(--dropdown-backdrop-filter);opacity:0;scale:.25;transition:opacity var(--elastic-transition),scale var(--elastic-transition);pointer-events:none;z-index:1}.pgv-scroll-to-top-bottom--visible{opacity:1;scale:1;pointer-events:auto}@media(prefers-reduced-motion:reduce){.pgv-scroll-to-top-bottom{transition:none}}.pgv-scroll-to-top-bottom .jenkins-button{padding:0;width:2.375rem;border-radius:100px}.pgv-scroll-to-top-bottom .jenkins-button svg{transition:translate .1s ease-in-out}.pgv-scroll-to-top-bottom .jenkins-button:not(:disabled):first-of-type:hover svg{translate:0 -1px}.pgv-scroll-to-top-bottom .jenkins-button:not(:disabled):last-of-type:hover svg{translate:0 1px}.pgv-split-view__container{position:relative;display:grid;gap:var(--section-padding);animation:fade-in .1s ease-in-out both}@keyframes fade-in{0%{opacity:0}}.pgv-split-view__side-panel{position:relative;display:flex;flex-direction:column}.pgv-split-view__side-panel--vertical{display:grid}.pgv-split-view__divider{position:absolute;right:calc(var(--section-padding) * -1);top:0;bottom:0;width:var(--section-padding);cursor:col-resize;z-index:1}.pgv-split-view__divider:after{content:"";position:absolute;right:calc(50% - var(--jenkins-border-width) / 2);top:0;bottom:0;width:var(--jenkins-border-width);border-radius:5px;transition:var(--standard-transition);background-color:var(--text-color-secondary);opacity:0}.pgv-split-view__divider:hover:after{opacity:.4;scale:150% 100%}.pgv-split-view__divider:active:after{opacity:.8;scale:200% 100%}.pgv-split-view__divider--vertical{top:unset;left:0;right:0;bottom:calc(var(--section-padding) * -1);width:unset;height:var(--section-padding);cursor:row-resize}.pgv-split-view__divider--vertical:after{left:0;right:0;top:unset;width:unset;bottom:calc(50% - var(--jenkins-border-width) / 2);height:var(--jenkins-border-width)}.pgv-split-view__divider--vertical:hover:after{opacity:.4;scale:100% 150%}.pgv-split-view__divider--vertical:active:after{opacity:.8;scale:100% 200%}.pgv-stage-details{--bg-color: var(--color, var(--text-color-secondary));position:relative;display:flex;justify-content:space-between;flex-wrap:wrap;gap:0 .5rem;padding:.125rem .7rem .125rem calc(1rem + var(--jenkins-border-width));border-radius:var(--form-input-border-radius);margin-bottom:.75rem;z-index:101}.pgv-stage-details:before{content:"";position:absolute;inset:0;background:oklch(from var(--bg-color) l c h/.075);border:var(--jenkins-border-width) solid oklch(from var(--bg-color) l c h/.1);border-radius:inherit;transition:var(--standard-transition);pointer-events:none}@media(prefers-contrast:more){.pgv-stage-details:before{border-color:var(--text-color)}}.pgv-stage-details>div{display:flex;align-items:center;gap:.75rem;padding:.5rem 0}.pgv-stage-details>div>div{display:contents}.pgv-stage-details>div svg{width:1.375rem;height:1.375rem}.pgv-stage-details h2{font-size:var(--font-size-sm);font-weight:var(--font-bold-weight);margin:0;text-box:trim-both}.pgv-stage-details .jenkins-button{--button-background--hover: oklch(from currentColor l c h / .1);--button-background--active: oklch(from currentColor l c h / .2);--button-box-shadow--focus: oklch(from currentColor l c h / .1);color:var(--color)!important;border-radius:.4rem;margin-inline:-.85rem;padding-inline:1.125rem}.pgv-stage-details .jenkins-button:before,.pgv-stage-details .jenkins-button:after{inset:3px 7px}.pgv-stage-details ul{display:flex;gap:1.25rem;padding:0;margin:0}.pgv-stage-details ul li,.pgv-stage-details ul li span{display:flex;align-items:center;gap:1ch;text-box:trim-both}.pgv-stage-details ul li svg{width:1.125rem;height:1.125rem;flex-shrink:0}.pgv-stage-details ul li svg *{stroke-width:36px}.pgv-stage-details__running{position:absolute;inset:0;border-radius:inherit;background:var(--bg-color);pointer-events:none;animation:pulse 2s ease-in-out infinite;opacity:0}@keyframes pulse{50%{opacity:.1}}.pgv-stage-steps{display:flex;flex-direction:column;gap:.375rem;background:var(--card-background);border:var(--card-border-width) solid var(--card-border-color);border-radius:var(--form-input-border-radius);padding:.375rem}.pgv-step-detail-group{position:relative}.pgv-step-detail-group:hover{z-index:100}.pgv-step-detail-header{position:sticky;top:calc(var(--pgv-header-height) + .375rem);z-index:1;display:grid;grid-template-columns:1fr auto;border-radius:.375rem;cursor:pointer;width:100%;box-shadow:0 0 0 .375rem var(--card-background);background-color:var(--card-background);padding:0 0 0 .5rem!important}.pgv-step-detail-header>a:first-of-type{display:grid;grid-template-columns:1fr auto;align-items:center;justify-content:stretch;gap:1rem;text-decoration:none;color:var(--text-color);min-height:2.5rem}.pgv-step-detail-header .jenkins-button{padding:0 .6rem;color:var(--text-color-secondary)!important;margin-left:.45rem}.pgv-step-detail-header .jenkins-button:before,.pgv-step-detail-header .jenkins-button:after{display:none}.pgv-step-detail-header .jenkins-button svg{width:1rem;height:1rem}.pgv-step-detail-header .jenkins-button:hover{color:var(--text-color)!important}.pgv-step-detail-header__content{display:flex;align-items:center;font-size:var(--font-size-sm);gap:.75rem;padding-left:.15rem;overflow:hidden}.pgv-step-detail-header__content span{max-width:80%;overflow:hidden;text-overflow:ellipsis;color:var(--text-color-secondary);font-family:var(--font-family-mono)}.pgv-step-detail-header__content span:first-of-type{color:var(--text-color);font-weight:var(--font-bold-weight);font-family:var(--font-family-sans)}.pgv-step-detail-header__content .pgv-step-detail-header__chevron{transition:var(--standard-transition);width:1rem;height:1rem;margin-inline:-.25rem;flex-shrink:0}.pgv-step-detail-header__content>svg:first-of-type{width:1.375rem;height:1.375rem}.pgv-step-detail-header__actions{display:flex;align-items:center;gap:.65rem}.pgv-step-detail-header__actions>button{min-width:38px;padding-inline:0!important}.pgv-show-more-logs{position:sticky;top:calc(var(--pgv-header-height) + .375rem + .375rem + 2.375rem);background:var(--card-background);box-shadow:0 0 .375rem var(--card-background);z-index:10;border-radius:.375rem;width:100%}.console-text div{text-indent:0;display:inline-block;overflow-wrap:anywhere}pre.console-output-line{text-align:left;padding:0;margin:0;border-radius:0}a.console-line-number{text-align:right;margin-right:.875rem;color:var(--text-color-secondary);white-space:nowrap;display:inline-block;flex-shrink:0;-webkit-user-select:none;user-select:none;outline:none}a.console-line-number:target{text-decoration:none;scroll-margin-top:calc(var(--pgv-header-height) + 3.4375rem)}.pgv-input-step{position:relative;z-index:0;padding:.875rem;margin-bottom:-.375rem;margin-left:-.375rem;margin-right:-.375rem;border-top:var(--jenkins-border);background-color:color-mix(in srgb,var(--accent-color) 2.5%,transparent);border-bottom-left-radius:.375rem;border-bottom-right-radius:.375rem}.pgv-input-step:first-of-type{margin-top:-.375rem;border-top:none;border-radius:.375rem}.pgv-input-step .jenkins-button{min-width:7.5rem}.pgv-input-step__controls{padding-left:2.275rem;margin-top:.75rem}div.console-output-line{position:relative;display:flex;padding-block:2px;z-index:0}div.console-output-line:has(:target):before{background-color:color-mix(in srgb,var(--blue) 15%,transparent)!important;border:var(--jenkins-border-width) solid color-mix(in srgb,var(--blue) 10%,transparent);opacity:1}div.console-output-line:before{content:"";position:absolute;inset:0;background-color:color-mix(in srgb,var(--text-color-secondary) 5%,transparent);border:var(--jenkins-border-width) solid color-mix(in srgb,var(--text-color-secondary) 2.5%,transparent);border-radius:.375rem;opacity:0;transition:opacity var(--standard-transition);pointer-events:none;z-index:-1}div.console-output-line:hover:before{opacity:1}')),document.head.appendChild(e)}}catch(r){console.error("vite-plugin-css-injected-by-js",r)}})();
import{j as n,r as p,R as y,T as qe,i as on,c as q,S as ft,a as Ht,L as pt,u as ln,b as an,g as cn,d as un,e as dn,f as hn,h as Wt,k as ke,l as gn,m as fn,P as pn,n as mn,o as xn,I as vn,p as jn,U as kn,q as wn}from"./assets/tree-api-Ck4yTsvp.js";import{D as Sn,a as Ut,b as Ft,u as En,c as Ln,C as yn,S as yt,U as Tn}from"./assets/symbols-ClSksSSm.js";import{u as mt,M as Q,S as Je,a as bn,L as Cn}from"./assets/stages-DMOL5Gn-.js";function ne({height:e}){return n.jsx("div",{className:"pgv-skeleton",style:e?{height:`${e}rem`}:{}})}function Nn(){const{mainViewVisibility:e,setMainViewVisibility:s,stageViewPosition:t,setStageViewPosition:i,isMobile:r}=mt();if(r)return null;const o=a=>{s(a.target.value)},l=a=>{i(a.target.value)};return n.jsxs(n.Fragment,{children:[n.jsxs("label",{className:"jenkins-dropdown__item pgv-stages-customization",htmlFor:"main-view-visibility",children:[n.jsx("div",{className:"jenkins-dropdown__item__icon",children:n.jsx(Rn,{mainViewVisibility:e,stageViewPosition:t})}),"Views",n.jsxs("span",{children:[e===Q.BOTH&&"Graph and stages",e===Q.GRAPH_ONLY&&"Graph",e===Q.STAGES_ONLY&&"Stages"]}),n.jsxs("select",{id:"main-view-visibility",value:e,onChange:o,children:[n.jsx("option",{value:Q.BOTH,children:"Graph and stages"}),n.jsx("option",{value:Q.GRAPH_ONLY,children:"Graph"}),n.jsx("option",{value:Q.STAGES_ONLY,children:"Stages"})]})]}),n.jsxs("label",{className:"jenkins-dropdown__item pgv-stages-customization",htmlFor:"stage-view-position",children:[n.jsx("div",{className:"jenkins-dropdown__item__icon",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:[n.jsx("circle",{cx:"128",cy:"96",r:"48",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}),n.jsx("circle",{cx:"256",cy:"416",r:"48",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}),n.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 256v112"}),n.jsx("circle",{cx:"384",cy:"96",r:"48",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}),n.jsx("path",{d:"M128 144c0 74.67 68.92 112 128 112M384 144c0 74.67-68.92 112-128 112",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"})]})}),"Graph position",n.jsx("span",{children:t===Je.TOP?"Top":"Left"}),n.jsxs("select",{id:"stage-view-position",value:t,onChange:l,disabled:e===Q.STAGES_ONLY,children:[n.jsx("option",{value:Je.TOP,children:"Top"}),n.jsx("option",{value:Je.LEFT,children:"Left"})]})]}),n.jsx("div",{className:"jenkins-dropdown__separator"})]})}function Rn({mainViewVisibility:e,stageViewPosition:s}){if(e==="both"&&s==="top")return n.jsx("svg",{width:"512px",height:"512px",viewBox:"0 0 512 512",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:n.jsxs("g",{fill:"none",fillRule:"evenodd",stroke:"currentColor",strokeWidth:"32",children:[n.jsx("rect",{x:"31",y:"86",width:"450",height:"340",rx:"70"}),n.jsx("line",{x1:"31",y1:"180",x2:"470",y2:"180"}),n.jsx("line",{x1:"184",y1:"180",x2:"184",y2:"420"})]})});if(e==="both"&&s==="left")return n.jsx("svg",{width:"512px",height:"512px",viewBox:"0 0 512 512",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:n.jsxs("g",{fill:"none",fillRule:"evenodd",stroke:"currentColor",strokeWidth:"32",children:[n.jsx("rect",{x:"31",y:"86",width:"450",height:"340",rx:"70"}),n.jsx("line",{x1:"150",y1:"100",x2:"150",y2:"420"}),n.jsx("line",{x1:"280",y1:"100",x2:"280",y2:"420"})]})});if(e==="graphOnly"&&s==="top")return n.jsx("svg",{width:"512px",height:"512px",viewBox:"0 0 512 512",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:n.jsxs("g",{fill:"none",fillRule:"evenodd",stroke:"currentColor",strokeWidth:"32",children:[n.jsx("rect",{x:"31",y:"86",width:"450",height:"340",rx:"70"}),n.jsx("line",{x1:"31",y1:"180",x2:"470",y2:"180"})]})});if(e==="stagesOnly"||e==="graphOnly"&&s==="left")return n.jsx("svg",{width:"512px",height:"512px",viewBox:"0 0 512 512",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:n.jsxs("g",{fill:"none",fillRule:"evenodd",stroke:"currentColor",strokeWidth:"32",children:[n.jsx("rect",{x:"31",y:"86",width:"450",height:"340",rx:"70"}),n.jsx("line",{x1:"184",y1:"100",x2:"184",y2:"420"})]})})}const zt=p.createContext(void 0),Xe=[y.running,y.success,y.failure,y.unstable,y.aborted,y.skipped,y.not_built],An=({children:e})=>{const[s,t]=p.useState([]),[i,r]=p.useState(""),[o,l]=p.useState(!1),a=g=>{s.includes(g)?t(s.filter(d=>d!==g)):t([...s,g])},u=()=>{t([])};return n.jsx(zt.Provider,{value:{visibleStatuses:s.length>0?s:Xe,toggleStatus:a,resetStatuses:u,allVisible:(s.length>0?s:Xe).length===Xe.length,search:i,setSearch:r,showHiddenSteps:o,setShowHiddenSteps:l},children:e})},Qe=()=>{const e=p.useContext(zt);if(!e)throw new Error("useFilter must be used within a FilterProvider");return e};function $t({disabled:e}){const[s,t]=p.useState(!1),{visibleStatuses:i,toggleStatus:r,resetStatuses:o,allVisible:l,showHiddenSteps:a,setShowHiddenSteps:u}=Qe(),g=[{key:"running",text:"Running",status:y.running},{key:"success",text:"Successful",status:y.success},{key:"failure",text:"Failed",status:y.failure},{key:"unstable",text:"Unstable",status:y.unstable},{key:"aborted",text:"Aborted",status:y.aborted},{key:"skipped",text:"Skipped",status:y.skipped},{key:"not_built",text:"Not built",status:y.not_built}],d=()=>t(!0),h=()=>t(!1);return n.jsx(qe,{content:"Filter",children:n.jsx(on,{...Sn,visible:s,onClickOutside:h,placement:"bottom",appendTo:document.body,offset:[0,-1],content:n.jsxs("div",{className:"jenkins-dropdown","data-testid":"filter-dropdown",children:[n.jsxs("div",{className:"jenkins-dropdown__heading",children:["Filter",!l&&n.jsx("button",{className:"jenkins-button jenkins-button--tertiary jenkins-!-accent-color pgv-reset-button",onClick:o,children:"Reset"})]}),g.map((f,x)=>n.jsxs("button",{className:q("jenkins-dropdown__item","pgv-filter-button",{"pgv-filter-button--unchecked":!i.includes(f.status)}),onClick:()=>r(f.status),children:[n.jsx("div",{className:"jenkins-dropdown__item__icon",children:n.jsx(ft,{status:f.status,skeleton:!i.includes(f.status),percentage:0})}),f.text]},x)),n.jsx("div",{className:"jenkins-dropdown__separator"}),n.jsxs("button",{className:q("jenkins-dropdown__item","pgv-filter-button",{"pgv-filter-button--unchecked":!a}),onClick:()=>u(!a),children:[n.jsx("div",{className:"jenkins-dropdown__item__icon",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",style:{width:"1.375rem",height:"1.375rem"},children:[n.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 00-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 000-17.47C428.89 172.28 347.8 112 255.66 112z"}),n.jsx("circle",{cx:"256",cy:"256",r:"80",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"32"}),!a&&n.jsx("line",{x1:"64",y1:"64",x2:"448",y2:"448",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"32"})]})}),"Show hidden steps"]})]}),children:n.jsx("button",{className:q("jenkins-button",{"jenkins-button--tertiary":l},{"jenkins-!-accent-color":!l}),type:"button",disabled:e,onClick:s?h:d,"aria-label":"Filter",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:n.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:l?36:42,d:"M32 144h448M112 256h288M208 368h96"})})})})})}function On({stages:e,selected:s,onNodeSelect:t}){const{search:i,setSearch:r,visibleStatuses:o}=Qe(),l=xt(i,o,e);return e.length===1&&e[0].placeholder?null:n.jsxs("div",{children:[n.jsxs("div",{className:"pgw-filter-bar",children:[n.jsxs("div",{className:"jenkins-search",children:[n.jsx("div",{className:"jenkins-search__icon",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:[n.jsx("path",{d:"M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"32"}),n.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M338.29 338.29L448 448"})]})}),n.jsx("input",{className:"jenkins-input jenkins-search__input",placeholder:"Search",type:"search",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",value:i,onChange:a=>r(a.target.value)})]}),n.jsx($t,{})]}),l.length===0&&n.jsxs("div",{className:"jenkins-notice",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:n.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:36,d:"M32 144h448M112 256h288M208 368h96"})}),n.jsx("div",{children:"No stages"})]}),n.jsx("ol",{className:"pgv-tree",role:"tree","aria-label":"Pipeline Stages",children:l.map(a=>n.jsx(Pn,{stage:a,selected:String(s),onSelect:t},a.id))})]})}function rt(e,s){return e.children?.some(t=>String(t.id)===s||rt(t,s))}const Pn=p.memo(function e({stage:s,selected:t,onSelect:i}){const{search:r,visibleStatuses:o,allVisible:l}=Qe(),a=s.children&&s.children.length>0,u=String(s.id)===t,[g,d]=p.useState(rt(s,t)),h=f=>{f.stopPropagation(),d(!g)};return p.useEffect(()=>{rt(s,t)&&d(!0)},[s,t]),p.useEffect(()=>{(r.length||!l)&&xt(r,o,[s]).length!==0&&d(!0)},[r,o,l,s]),n.jsxs("li",{className:"pgv-tree-stage",role:"treeitem",...a?{"aria-expanded":g}:{},"aria-selected":u,"aria-labelledby":`stage-${s.id}-name`,children:[n.jsxs("div",{className:"pgv-tree-item-container",children:[n.jsx("a",{href:"?selected-node="+s.id,onClick:f=>{f.button!==0||f.metaKey||f.ctrlKey||(f.preventDefault(),history.replaceState({},"","?selected-node="+s.id),u||i(String(s.id)),d(!g))},className:q("pgv-tree-item",{"pgv-tree-item--active":u,"pgv-tree-item--skeleton":s.skeleton}),"aria-labelledby":`stage-${s.id}-name`,children:n.jsxs("div",{className:"pgv-tree-item__content",children:[n.jsx("div",{className:"pgv-status-icon",children:n.jsx(Ht,{stage:s})}),n.jsxs("div",{className:"pgv-tree-item__info",children:[n.jsxs("div",{className:"pgv-tree-item__name",id:`stage-${s.id}-name`,children:[n.jsx("span",{className:"jenkins-visually-hidden",children:"Stage "}),s.name]}),n.jsx("div",{className:"pgv-tree-item__description",children:n.jsx(pt,{start:s.startTimeMillis,total:s.totalDurationMillis,paused:s.pauseLiveTotal})})]})]})}),a&&n.jsx("button",{className:q("pgv-tree-item__toggle",{"pgv-tree-item__toggle--active":g}),onClick:h,"aria-label":`${g?"Collapse":"Expand"} ${s.name}`,children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:n.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M184 112l144 144-144 144"})})})]}),a&&g&&n.jsx("div",{className:"pgv-tree-children",children:n.jsx("ol",{role:"group","aria-label":`Stages in ${s.name}`,className:"pgv-tree",children:s.children.map(f=>n.jsx(e,{stage:f,selected:t,onSelect:i},f.id))})})]})}),xt=(e,s,t)=>t.map(i=>{const r=i.children?xt(e,s,i.children):[];return i.name.toLowerCase().includes(e.toLowerCase())&&s.includes(i.state)||r.length>0?{...i,children:r}:null}).filter(i=>i!==null);function Kt(e,s){const t=r=>[y.running,y.paused,y.queued,y.unknown].includes(r);let i=!1;for(let r=0;r<e.length;r++){const o=e[r],l=Kt(o.children,s),a=String(o.id),u=s.filter(x=>x.stageId===a);let{state:g,startTimeMillis:d,totalDurationMillis:h,pauseLiveTotal:f}=o;o.skeleton&&u.length>0?(d=u[0].startTimeMillis,g=u[u.length-1].state,h=void 0):o.skeleton&&l.length>0&&(d=l[0].startTimeMillis,g=l[l.length-1].state,d&&(h=void 0)),f=d>0&&!h&&!u.find(x=>t(x.state))&&!l.find(x=>t(x.state)&&!x.pauseLiveTotal),(o.children!==l||!!o.pauseLiveTotal!==f||o.startTimeMillis!==d||o.state!==g||o.totalDurationMillis!==h)&&(o.children=l,o.pauseLiveTotal=f,o.startTimeMillis=d,o.state=g,o.totalDurationMillis=h,i||(e=e.slice()),i=!0,e[r]={...o})}return e}const Vt=1e3,ge=-153600;async function Mn(e,s,t){const i=t===ge;if(i&&e.stopTailing||!i&&e.startByte<=t&&t<=e.endByte)return;let r="";if(i&&(t=e.endByte,r=e.consoleAnnotator||"",e.lastFetched)){const g=performance.now()-e.lastFetched,d=Vt-g;await new Promise(h=>setTimeout(h,d))}e.lastFetched=performance.now();const o=await dn(s,t,r);if(!o)return;const l=o.text.split(`
`),a=o.text.endsWith(`
`);(!o.text||a)&&l.pop();const u=e.exceptionText||[];e.endByte>0&&e.endByte===t?l.length>0&&(e.lines.length-=u.length,!e.hasTrailingNewLine&&e.lines.length>0&&l.length>0&&(e.lines[e.lines.length-1]+=l.shift()),e.lines=[...e.lines,...l,...u]):(e.lines=l.concat(u),e.startByte=o.startByte),e.endByte=o.endByte,e.consoleAnnotator=o.consoleAnnotator,o.text&&(e.hasTrailingNewLine=a),o.nodeIsActive||(e.stopTailing=!0)}function In(e,s){let t=e.find(i=>i!==void 0);if(!e||e.length===0||!t)return null;for(const i of e){const r=i.state.toLowerCase(),o=t?.state.toLowerCase();switch(r){case y.running:case y.queued:case y.paused:return i;case y.unstable:case y.failure:case y.aborted:if(s&&o&&r<o)return i;continue;default:o&&r<=o&&(t=i)}}return t}async function Tt(e,s,t,i){let r=e.get(s);r||(r={lines:[],startByte:0,endByte:ge},e.set(s,r));const o=(r[t]||Promise.resolve()).finally(()=>i(r));r[t]=o;try{await o}finally{r[t]===o&&delete r[t]}return r}function _n(e){const{run:s,loading:t}=ln({currentRunPath:e.currentRunPath,previousRunPath:e.previousRunPath}),{data:{steps:i,runIsComplete:r}}=an(cn,Vt,"runIsComplete",{steps:[],runIsComplete:!1});s.stages=Kt(s.stages,i);const[o,l]=p.useState(""),a=p.useMemo(()=>{const m=j=>{for(const T of j){if(String(T.id)===o)return T;if(T.children.length>0){const M=m(T.children);if(M)return M}}return null};return o?m(s.stages):null},[s.stages,o]),[u,g]=p.useState([]),d=p.useRef(new Set),h=p.useRef(""),[f,x]=p.useState(!0),[w,v]=p.useState(""),L=p.useRef(f),N=p.useCallback(()=>{history.replaceState({},"","?"),E.current="",L.current=!0,x(!0),a?.state==="running"?v(o):v("")},[o,a?.state]),S=p.useCallback(()=>{E.current="",L.current=!1,x(!1),v("")},[]),R=p.useRef(!1),O=p.useRef(!1);p.useEffect(()=>{if(!f)return;R.current=!1;const m=()=>{R.current?R.current=!1:O.current?O.current=!1:S()};return window.addEventListener("scroll",m),()=>{window.removeEventListener("scroll",m)}},[S,f]),p.useEffect(()=>{if(!f)return;O.current=!0;let m=0;const j=()=>{O.current=!1,clearTimeout(m),window.removeEventListener("scroll",j)};return m=window.setTimeout(j,100),window.addEventListener("scroll",j),()=>j()},[f,o]);const E=p.useRef(""),P=p.useCallback((m,j)=>{if(!(L.current&&m===h.current)){if(m!==E.current)return;const M=I.current.get(m);if(!M||M.endByte===ge)return;E.current=""}R.current=!0,j.scrollIntoView({block:"end"})},[]),I=p.useRef(new Map),C=p.useCallback((m,j)=>Tt(I.current,m,"pending",T=>Mn(T,m,j)),[]),X=p.useCallback(m=>Tt(I.current,m,"pendingExceptionText",async j=>{j.exceptionText?.length||(j.exceptionText=await un(m),j.lines=j.lines.concat(j.exceptionText))}),[]),H=p.useCallback((m,j)=>{const T=m.filter(pe=>pe.stageId===j);if(T.length===0)return;const M=T[T.length-1];d.current.has(M.id)||(E.current=M.id,g([M.id]))},[]),Z=p.useRef(!1);p.useEffect(()=>{if(Z.current||i.length===0)return;Z.current=!0;const m=new URLSearchParams(document.location.search.substring(1));let j=m.get("selected-node");if(!j)return;S();const T=i.find(M=>M.id===j);if(T){j=T.stageId,E.current=T.id,g([T.id]);const M=m.get("start-byte");if(M){const pe=parseInt(M);I.current.set(T.id,{lines:[],startByte:pe,endByte:pe})}}else H(i,j);l(j)},[i,H,S]),p.useEffect(()=>{let m;w?(m=i.filter(j=>j.stageId===w).pop()||null,m&&m.state!=="running"&&I.current.get(m.id)?.stopTailing&&S()):m=In(i,r),m&&(h.current=m.id,L.current&&(l(m.stageId),!d.current.has(m.id)&&g(j=>j.includes(m.id)?j:[...j,m.id])))},[i,f,r,w,S]);const ee=p.useCallback(m=>{m&&(v(m),l(j=>m===j?j:(history.replaceState({},"","?selected-node="+m),m)))},[]),fe=p.useCallback(m=>{S(),g(j=>j.includes(m)?(d.current.add(m),j.filter(T=>T!==m)):(d.current.delete(m),[...j,m]))},[S]),te=p.useMemo(()=>i.filter(m=>m.stageId===o),[i,o]);return{openStage:a,openStageSteps:te,stepBuffers:I.current,expandedSteps:u,complete:r,stages:s.stages,handleStageSelect:ee,onStepToggle:fe,fetchLogText:C,fetchExceptionText:X,loading:t,tailLogs:f,scrollToTail:P,startTailingLogs:N,stopTailingLogs:S}}const Dn="modulepreload",Bn=function(e,s){return new URL(e,s).href},bt={},Gt=function(s,t,i){let r=Promise.resolve();if(t&&t.length>0){let g=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};const l=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),u=a?.nonce||a?.getAttribute("nonce");r=g(t.map(d=>{if(d=Bn(d,i),d in bt)return;bt[d]=!0;const h=d.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(i)for(let w=l.length-1;w>=0;w--){const v=l[w];if(v.href===d&&(!h||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${f}`))return;const x=document.createElement("link");if(x.rel=h?"stylesheet":Dn,h||(x.as="script"),x.crossOrigin="",x.href=d,u&&x.setAttribute("nonce",u),document.head.appendChild(x),h)return new Promise((w,v)=>{x.addEventListener("load",w),x.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(l){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=l,window.dispatchEvent(a),!a.defaultPrevented)throw l}return r.then(l=>{for(const a of l||[])a.status==="rejected"&&o(a.reason);return s().catch(o)})},Hn=p.lazy(()=>Gt(()=>import("./assets/ConsoleLogStream-C9dO1XwQ.js"),__vite__mapDeps([0,1,2,3]),import.meta.url));async function Wn(){return{lines:(await hn())?.split(`
`)??[],startByte:0,endByte:0}}function Un(e){const[s,t]=p.useState({lines:[],startByte:0,endByte:0});return p.useEffect(()=>{Wn().then(i=>(t(i),i)).catch(i=>console.log(i))},[]),n.jsx("div",{className:"pgv-stage-steps",children:n.jsx("div",{className:"pgv-step-detail-group",children:n.jsx(Hn,{...e,logBuffer:s,updateLogBufferIfChanged:()=>{},fetchLogText:async()=>s,stopTailingLogs:()=>{},stepId:"",stepState:y.success,fetchExceptionText:async()=>s})})})}function Fn({complete:e,loading:s,tailLogs:t,startTailingLogs:i,stopTailingLogs:r}){const o=Wt();return s||e?null:n.jsx(qe,{content:t?o.format(ke.tailLogsPause):o.format(ke.tailLogsResume),children:n.jsx("button",{className:"jenkins-button jenkins-!-info-color",onClick:t?r:i,children:t?$n():zn()})})}function zn(){return n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ionicon",viewBox:"0 0 512 512",children:[n.jsx("path",{d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"32"}),n.jsx("path",{d:"M216.32 334.44l114.45-69.14a10.89 10.89 0 000-18.6l-114.45-69.14a10.78 10.78 0 00-16.32 9.31v138.26a10.78 10.78 0 0016.32 9.31z",fill:"currentColor"})]})}function $n(){return n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ionicon",viewBox:"0 0 512 512",children:[n.jsx("path",{d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"32"}),n.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M208 192v128M304 192v128"})]})}function Kn(e){const[s,t]=p.useState(!0),[i,r]=p.useState(!1),o=p.useRef(null),[l,a]=p.useState(0);p.useEffect(()=>{const h=()=>{const f=document.querySelector("header");a(f.getBoundingClientRect().height)};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),p.useEffect(()=>{const h=document.querySelector(".jenkins-app-bar"),f=new IntersectionObserver(x=>{for(const w of x)w.target===h?t(w.isIntersecting):r(w.isIntersecting)},{threshold:1,rootMargin:`-${l}px 0px 0px 0px`});return f.observe(h),f.observe(o.current),()=>f.disconnect()},[l]);const u=()=>{window.scrollTo({top:0})},g=()=>{o.current?.scrollIntoView({block:"end"})},d=!s||!i||!e.complete;return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:q("pgv-scroll-to-top-bottom",{"pgv-scroll-to-top-bottom--visible":d}),"aria-hidden":!d,children:[n.jsx(Fn,{...e}),n.jsx("button",{onClick:u,className:"jenkins-button",disabled:s,children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:n.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 244l144-144 144 144M256 120v292"})})}),n.jsx("button",{onClick:g,className:"jenkins-button",disabled:i,children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:n.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 268l144 144 144-144M256 392V100"})})})]}),n.jsx("div",{ref:o,style:{scrollMarginBlockEnd:"calc(var(--section-padding) - 0.375rem - 2px)"}})]})}function Ct(e){const{setTreeViewWidth:s,setStageViewWidth:t,setStageViewHeight:i,treeViewWidth:r,stageViewWidth:o,stageViewHeight:l}=mt(),{direction:a="horizontal",storageKey:u}=e,[g,d]=p.useState(!1),h=a==="vertical",f=u==="stages"?r:u==="graph"?h?l:o:300;p.useEffect(()=>{w(u==="stages"?r:u==="graph"?a==="vertical"?l:o:300)},[a,r,o,l,u]);const[x,w]=p.useState(f),v=p.useRef(null),L=C=>{d(!0),C.preventDefault()},N=()=>d(!1),S=C=>{if(!g)return;const X=a==="vertical"?C.clientY-E():C.clientX-E(),H=Math.max(a==="vertical"?100:200,Math.min(X,1500));w(H),u==="stages"?s(H):u==="graph"&&(a==="vertical"?i(H):t(H))},R=()=>{const C=u==="stages"?300:u==="graph"?h?250:600:300;w(C),u==="stages"?s(C):u==="graph"&&(a==="vertical"?i(C):t(C))},O=p.useRef(null),E=()=>{if(O.current){const C=O.current.getBoundingClientRect();return a==="vertical"?C.top:C.left}return 0};p.useEffect(()=>(window.addEventListener("mousemove",S),window.addEventListener("mouseup",N),()=>{window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",N)}));const P=p.Children.toArray(e.children).filter(Boolean);if(P.length===1)return n.jsx(n.Fragment,{children:P[0]});const I=a==="vertical"?`${x}px 1fr`:`${x}px 1fr`;return n.jsxs("div",{ref:O,className:"pgv-split-view__container",style:{display:"grid",gridTemplateColumns:a==="vertical"?void 0:I,gridTemplateRows:a==="vertical"?I:void 0},children:[n.jsxs("div",{className:q("pgv-split-view__side-panel",{"pgv-split-view__side-panel--vertical":a==="vertical"}),children:[P[0],n.jsx("div",{ref:v,onMouseDown:L,onDoubleClick:R,className:`pgv-split-view__divider ${a==="vertical"?"pgv-split-view__divider--vertical":""}`})]}),n.jsx("div",{children:P[1]})]})}function Vn({agent:e}){if(!e)return null;const s=e==="built-in"?"Jenkins":e,t=i(e);function i(r){const o=r==="built-in"?"(built-in)":r;return`${document.head.dataset.rooturl}/computer/${o}/`}return n.jsx("li",{className:"jenkins-mobile-hide",children:n.jsxs("a",{href:t,className:"jenkins-button jenkins-button--tertiary",target:"_blank",rel:"noreferrer",children:[n.jsx("svg",{width:"512px",height:"512px",viewBox:"0 0 512 512",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinejoin:"round",children:n.jsxs("g",{transform:"translate(32.000000, 64.000000)",stroke:"currentColor",strokeWidth:"32",children:[n.jsx("rect",{x:"0",y:"0",width:"448",height:"320",rx:"32"}),n.jsx("polygon",{strokeLinecap:"round",fillRule:"nonzero",points:"272 384 264 320 184 320 176 384"}),n.jsx("line",{x1:"336",y1:"384",x2:"112",y2:"384",strokeLinecap:"round"})]})})}),s]})})}function Gn({stage:e}){return e?n.jsxs("div",{className:"pgv-stage-details "+mn(e.state,e.skeleton),children:[e.state==="running"&&n.jsx("div",{className:"pgv-stage-details__running"}),n.jsxs("div",{children:[n.jsx(Ht,{stage:e}),n.jsx("h2",{children:e.name})]}),n.jsxs("ul",{children:[n.jsxs("li",{children:[n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","aria-label":"Total duration",children:[n.jsx("path",{d:"M112.91 128A191.85 191.85 0 0064 254c-1.18 106.35 85.65 193.8 192 194 106.2.2 192-85.83 192-192 0-104.54-83.55-189.61-187.5-192a4.36 4.36 0 00-4.5 4.37V152",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}),n.jsx("path",{d:"M233.38 278.63l-79-113a8.13 8.13 0 0111.32-11.32l113 79a32.5 32.5 0 01-37.25 53.26 33.21 33.21 0 01-8.07-7.94z",fill:"currentColor"})]}),n.jsx(pt,{total:e.totalDurationMillis,start:e.startTimeMillis,paused:e.pauseLiveTotal})]}),n.jsx("li",{children:n.jsx(qe,{content:gn(e.startTimeMillis),children:n.jsxs("span",{children:[n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:[n.jsx("path",{d:"M256 64C150 64 64 150 64 256s86 192 192 192 192-86 192-192S362 64 256 64z",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"32"}),n.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 128v144h96"})]}),n.jsx(fn,{live:e.skeleton||e.state===y.paused||e.state===y.queued||e.state===y.running,since:e.startTimeMillis})]})})}),e.pauseDurationMillis!==0&&n.jsxs("li",{className:"jenkins-mobile-hide",children:[n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:[n.jsx("path",{d:"M145.61 464h220.78c19.8 0 35.55-16.29 33.42-35.06C386.06 308 304 310 304 256s83.11-51 95.8-172.94c2-18.78-13.61-35.06-33.41-35.06H145.61c-19.8 0-35.37 16.28-33.41 35.06C124.89 205 208 201 208 256s-82.06 52-95.8 172.94c-2.14 18.77 13.61 35.06 33.41 35.06z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}),n.jsx("path",{d:"M343.3 432H169.13c-15.6 0-20-18-9.06-29.16C186.55 376 240 356.78 240 326V224c0-19.85-38-35-61.51-67.2-3.88-5.31-3.49-12.8 6.37-12.8h142.73c8.41 0 10.23 7.43 6.4 12.75C310.82 189 272 204.05 272 224v102c0 30.53 55.71 47 80.4 76.87 9.95 12.04 6.47 29.13-9.1 29.13z",fill:"currentColor"})]}),n.jsx(pn,{since:e.pauseDurationMillis})]}),n.jsx(Vn,{agent:e.agent}),n.jsx("li",{children:n.jsx($t,{})}),n.jsx("li",{children:n.jsx(Ut,{className:"jenkins-button--tertiary",disabled:e.synthetic&&!e.placeholder,items:[{text:"View stage as plain text",icon:Ft,href:`log?nodeId=${e.id}`,target:"_blank"},{text:"Download stage logs",icon:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:[n.jsx("path",{d:"M336 176h40a40 40 0 0140 40v208a40 40 0 01-40 40H136a40 40 0 01-40-40V216a40 40 0 0140-40h40",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}),n.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M176 272l80 80 80-80M256 48v288"})]}),href:`log?nodeId=${e.id}`,download:`${e.name}.txt`}]})})]})]}):null}const qn="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Qn="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",ot="numeric",lt="ascii",at="alpha",re="asciinumeric",ie="alphanumeric",ct="domain",qt="emoji",Yn="scheme",Jn="slashscheme",Ze="whitespace";function Xn(e,s){return e in s||(s[e]=[]),s[e]}function Y(e,s,t){s[ot]&&(s[re]=!0,s[ie]=!0),s[lt]&&(s[re]=!0,s[at]=!0),s[re]&&(s[ie]=!0),s[at]&&(s[ie]=!0),s[ie]&&(s[ct]=!0),s[qt]&&(s[ct]=!0);for(const i in s){const r=Xn(i,t);r.indexOf(e)<0&&r.push(e)}}function Zn(e,s){const t={};for(const i in s)s[i].indexOf(e)>=0&&(t[i]=!0);return t}function _(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}_.groups={};_.prototype={accepts(){return!!this.t},go(e){const s=this,t=s.j[e];if(t)return t;for(let i=0;i<s.jr.length;i++){const r=s.jr[i][0],o=s.jr[i][1];if(o&&r.test(e))return o}return s.jd},has(e,s=!1){return s?e in this.j:!!this.go(e)},ta(e,s,t,i){for(let r=0;r<e.length;r++)this.tt(e[r],s,t,i)},tr(e,s,t,i){i=i||_.groups;let r;return s&&s.j?r=s:(r=new _(s),t&&i&&Y(s,t,i)),this.jr.push([e,r]),r},ts(e,s,t,i){let r=this;const o=e.length;if(!o)return r;for(let l=0;l<o-1;l++)r=r.tt(e[l]);return r.tt(e[o-1],s,t,i)},tt(e,s,t,i){i=i||_.groups;const r=this;if(s&&s.j)return r.j[e]=s,s;const o=s;let l,a=r.go(e);if(a?(l=new _,Object.assign(l.j,a.j),l.jr.push.apply(l.jr,a.jr),l.jd=a.jd,l.t=a.t):l=new _,o){if(i)if(l.t&&typeof l.t=="string"){const u=Object.assign(Zn(l.t,i),t);Y(o,u,i)}else t&&Y(o,t,i);l.t=o}return r.j[e]=l,l}};const k=(e,s,t,i,r)=>e.ta(s,t,i,r),b=(e,s,t,i,r)=>e.tr(s,t,i,r),Nt=(e,s,t,i,r)=>e.ts(s,t,i,r),c=(e,s,t,i,r)=>e.tt(s,t,i,r),$="WORD",ut="UWORD",Qt="ASCIINUMERICAL",Yt="ALPHANUMERICAL",de="LOCALHOST",dt="TLD",ht="UTLD",je="SCHEME",J="SLASH_SCHEME",vt="NUM",gt="WS",jt="NL",oe="OPENBRACE",le="CLOSEBRACE",we="OPENBRACKET",Se="CLOSEBRACKET",Ee="OPENPAREN",Le="CLOSEPAREN",ye="OPENANGLEBRACKET",Te="CLOSEANGLEBRACKET",be="FULLWIDTHLEFTPAREN",Ce="FULLWIDTHRIGHTPAREN",Ne="LEFTCORNERBRACKET",Re="RIGHTCORNERBRACKET",Ae="LEFTWHITECORNERBRACKET",Oe="RIGHTWHITECORNERBRACKET",Pe="FULLWIDTHLESSTHAN",Me="FULLWIDTHGREATERTHAN",Ie="AMPERSAND",_e="APOSTROPHE",De="ASTERISK",V="AT",Be="BACKSLASH",He="BACKTICK",We="CARET",G="COLON",kt="COMMA",Ue="DOLLAR",W="DOT",Fe="EQUALS",wt="EXCLAMATION",B="HYPHEN",ae="PERCENT",ze="PIPE",$e="PLUS",Ke="POUND",ce="QUERY",St="QUOTE",Jt="FULLWIDTHMIDDLEDOT",Et="SEMI",U="SLASH",ue="TILDE",Ve="UNDERSCORE",Xt="EMOJI",Ge="SYM";var Zt=Object.freeze({__proto__:null,ALPHANUMERICAL:Yt,AMPERSAND:Ie,APOSTROPHE:_e,ASCIINUMERICAL:Qt,ASTERISK:De,AT:V,BACKSLASH:Be,BACKTICK:He,CARET:We,CLOSEANGLEBRACKET:Te,CLOSEBRACE:le,CLOSEBRACKET:Se,CLOSEPAREN:Le,COLON:G,COMMA:kt,DOLLAR:Ue,DOT:W,EMOJI:Xt,EQUALS:Fe,EXCLAMATION:wt,FULLWIDTHGREATERTHAN:Me,FULLWIDTHLEFTPAREN:be,FULLWIDTHLESSTHAN:Pe,FULLWIDTHMIDDLEDOT:Jt,FULLWIDTHRIGHTPAREN:Ce,HYPHEN:B,LEFTCORNERBRACKET:Ne,LEFTWHITECORNERBRACKET:Ae,LOCALHOST:de,NL:jt,NUM:vt,OPENANGLEBRACKET:ye,OPENBRACE:oe,OPENBRACKET:we,OPENPAREN:Ee,PERCENT:ae,PIPE:ze,PLUS:$e,POUND:Ke,QUERY:ce,QUOTE:St,RIGHTCORNERBRACKET:Re,RIGHTWHITECORNERBRACKET:Oe,SCHEME:je,SEMI:Et,SLASH:U,SLASH_SCHEME:J,SYM:Ge,TILDE:ue,TLD:dt,UNDERSCORE:Ve,UTLD:ht,UWORD:ut,WORD:$,WS:gt});const F=/[a-z]/,se=new RegExp("\\p{L}","u"),et=new RegExp("\\p{Emoji}","u"),z=/\d/,tt=/\s/,Rt="\r",nt=`
`,es="️",ts="‍",st="￼";let me=null,xe=null;function ns(e=[]){const s={};_.groups=s;const t=new _;me==null&&(me=At(qn)),xe==null&&(xe=At(Qn)),c(t,"'",_e),c(t,"{",oe),c(t,"}",le),c(t,"[",we),c(t,"]",Se),c(t,"(",Ee),c(t,")",Le),c(t,"<",ye),c(t,">",Te),c(t,"（",be),c(t,"）",Ce),c(t,"「",Ne),c(t,"」",Re),c(t,"『",Ae),c(t,"』",Oe),c(t,"＜",Pe),c(t,"＞",Me),c(t,"&",Ie),c(t,"*",De),c(t,"@",V),c(t,"`",He),c(t,"^",We),c(t,":",G),c(t,",",kt),c(t,"$",Ue),c(t,".",W),c(t,"=",Fe),c(t,"!",wt),c(t,"-",B),c(t,"%",ae),c(t,"|",ze),c(t,"+",$e),c(t,"#",Ke),c(t,"?",ce),c(t,'"',St),c(t,"/",U),c(t,";",Et),c(t,"~",ue),c(t,"_",Ve),c(t,"\\",Be),c(t,"・",Jt);const i=b(t,z,vt,{[ot]:!0});b(i,z,i);const r=b(i,F,Qt,{[re]:!0}),o=b(i,se,Yt,{[ie]:!0}),l=b(t,F,$,{[lt]:!0});b(l,z,r),b(l,F,l),b(r,z,r),b(r,F,r);const a=b(t,se,ut,{[at]:!0});b(a,F),b(a,z,o),b(a,se,a),b(o,z,o),b(o,F),b(o,se,o);const u=c(t,nt,jt,{[Ze]:!0}),g=c(t,Rt,gt,{[Ze]:!0}),d=b(t,tt,gt,{[Ze]:!0});c(t,st,d),c(g,nt,u),c(g,st,d),b(g,tt,d),c(d,Rt),c(d,nt),b(d,tt,d),c(d,st,d);const h=b(t,et,Xt,{[qt]:!0});c(h,"#"),b(h,et,h),c(h,es,h);const f=c(h,ts);c(f,"#"),b(f,et,h);const x=[[F,l],[z,r]],w=[[F,null],[se,a],[z,o]];for(let v=0;v<me.length;v++)K(t,me[v],dt,$,x);for(let v=0;v<xe.length;v++)K(t,xe[v],ht,ut,w);Y(dt,{tld:!0,ascii:!0},s),Y(ht,{utld:!0,alpha:!0},s),K(t,"file",je,$,x),K(t,"mailto",je,$,x),K(t,"http",J,$,x),K(t,"https",J,$,x),K(t,"ftp",J,$,x),K(t,"ftps",J,$,x),Y(je,{scheme:!0,ascii:!0},s),Y(J,{slashscheme:!0,ascii:!0},s),e=e.sort((v,L)=>v[0]>L[0]?1:-1);for(let v=0;v<e.length;v++){const L=e[v][0],S=e[v][1]?{[Yn]:!0}:{[Jn]:!0};L.indexOf("-")>=0?S[ct]=!0:F.test(L)?z.test(L)?S[re]=!0:S[lt]=!0:S[ot]=!0,Nt(t,L,L,S)}return Nt(t,"localhost",de,{ascii:!0}),t.jd=new _(Ge),{start:t,tokens:Object.assign({groups:s},Zt)}}function en(e,s){const t=ss(s.replace(/[A-Z]/g,a=>a.toLowerCase())),i=t.length,r=[];let o=0,l=0;for(;l<i;){let a=e,u=null,g=0,d=null,h=-1,f=-1;for(;l<i&&(u=a.go(t[l]));)a=u,a.accepts()?(h=0,f=0,d=a):h>=0&&(h+=t[l].length,f++),g+=t[l].length,o+=t[l].length,l++;o-=h,l-=f,g-=h,r.push({t:d.t,v:s.slice(o-g,o),s:o-g,e:o})}return r}function ss(e){const s=[],t=e.length;let i=0;for(;i<t;){let r=e.charCodeAt(i),o,l=r<55296||r>56319||i+1===t||(o=e.charCodeAt(i+1))<56320||o>57343?e[i]:e.slice(i,i+2);s.push(l),i+=l.length}return s}function K(e,s,t,i,r){let o;const l=s.length;for(let a=0;a<l-1;a++){const u=s[a];e.j[u]?o=e.j[u]:(o=new _(i),o.jr=r.slice(),e.j[u]=o),e=o}return o=new _(t),o.jr=r.slice(),e.j[s[l-1]]=o,o}function At(e){const s=[],t=[];let i=0,r="0123456789";for(;i<e.length;){let o=0;for(;r.indexOf(e[i+o])>=0;)o++;if(o>0){s.push(t.join(""));for(let l=parseInt(e.substring(i,i+o),10);l>0;l--)t.pop();i+=o}else t.push(e[i]),i++}return s}const he={defaultProtocol:"http",events:null,format:Ot,formatHref:Ot,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Lt(e,s=null){let t=Object.assign({},he);e&&(t=Object.assign(t,e instanceof Lt?e.o:e));const i=t.ignoreTags,r=[];for(let o=0;o<i.length;o++)r.push(i[o].toUpperCase());this.o=t,s&&(this.defaultRender=s),this.ignoreTags=r}Lt.prototype={o:he,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,s,t){const i=s!=null;let r=this.o[e];return r&&(typeof r=="object"?(r=t.t in r?r[t.t]:he[e],typeof r=="function"&&i&&(r=r(s,t))):typeof r=="function"&&i&&(r=r(s,t.t,t)),r)},getObj(e,s,t){let i=this.o[e];return typeof i=="function"&&s!=null&&(i=i(s,t.t,t)),i},render(e){const s=e.render(this);return(this.get("render",null,e)||this.defaultRender)(s,e.t,e)}};function Ot(e){return e}function tn(e,s){this.t="token",this.v=e,this.tk=s}tn.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const s=this.toString(),t=e.get("truncate",s,this),i=e.get("format",s,this);return t&&i.length>t?i.substring(0,t)+"…":i},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=he.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const s=this,t=this.toHref(e.get("defaultProtocol")),i=e.get("formatHref",t,this),r=e.get("tagName",t,s),o=this.toFormattedString(e),l={},a=e.get("className",t,s),u=e.get("target",t,s),g=e.get("rel",t,s),d=e.getObj("attributes",t,s),h=e.getObj("events",t,s);return l.href=i,a&&(l.class=a),u&&(l.target=u),g&&(l.rel=g),d&&Object.assign(l,d),{tagName:r,attributes:l,content:o,eventListeners:h}}};function Ye(e,s){class t extends tn{constructor(r,o){super(r,o),this.t=e}}for(const i in s)t.prototype[i]=s[i];return t.t=e,t}const Pt=Ye("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Mt=Ye("text"),is=Ye("nl"),ve=Ye("url",{isLink:!0,toHref(e=he.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==de&&e[1].t===G}}),D=e=>new _(e);function rs({groups:e}){const s=e.domain.concat([Ie,De,V,Be,He,We,Ue,Fe,B,vt,ae,ze,$e,Ke,U,Ge,ue,Ve]),t=[_e,G,kt,W,wt,ae,ce,St,Et,ye,Te,oe,le,Se,we,Ee,Le,be,Ce,Ne,Re,Ae,Oe,Pe,Me],i=[Ie,_e,De,Be,He,We,Ue,Fe,B,oe,le,ae,ze,$e,Ke,ce,U,Ge,ue,Ve],r=D(),o=c(r,ue);k(o,i,o),k(o,e.domain,o);const l=D(),a=D(),u=D();k(r,e.domain,l),k(r,e.scheme,a),k(r,e.slashscheme,u),k(l,i,o),k(l,e.domain,l);const g=c(l,V);c(o,V,g),c(a,V,g),c(u,V,g);const d=c(o,W);k(d,i,o),k(d,e.domain,o);const h=D();k(g,e.domain,h),k(h,e.domain,h);const f=c(h,W);k(f,e.domain,h);const x=D(Pt);k(f,e.tld,x),k(f,e.utld,x),c(g,de,x);const w=c(h,B);c(w,B,w),k(w,e.domain,h),k(x,e.domain,h),c(x,W,f),c(x,B,w);const v=c(x,G);k(v,e.numeric,Pt);const L=c(l,B),N=c(l,W);c(L,B,L),k(L,e.domain,l),k(N,i,o),k(N,e.domain,l);const S=D(ve);k(N,e.tld,S),k(N,e.utld,S),k(S,e.domain,l),k(S,i,o),c(S,W,N),c(S,B,L),c(S,V,g);const R=c(S,G),O=D(ve);k(R,e.numeric,O);const E=D(ve),P=D();k(E,s,E),k(E,t,P),k(P,s,E),k(P,t,P),c(S,U,E),c(O,U,E);const I=c(a,G),C=c(u,G),X=c(C,U),H=c(X,U);k(a,e.domain,l),c(a,W,N),c(a,B,L),k(u,e.domain,l),c(u,W,N),c(u,B,L),k(I,e.domain,E),c(I,U,E),c(I,ce,E),k(H,e.domain,E),k(H,s,E),c(H,U,E);const Z=[[oe,le],[we,Se],[Ee,Le],[ye,Te],[be,Ce],[Ne,Re],[Ae,Oe],[Pe,Me]];for(let ee=0;ee<Z.length;ee++){const[fe,te]=Z[ee],m=c(E,fe);c(P,fe,m),c(m,te,E);const j=D(ve);k(m,s,j);const T=D();k(m,t),k(j,s,j),k(j,t,T),k(T,s,j),k(T,t,T),c(j,te,E),c(T,te,E)}return c(r,de,S),c(r,jt,is),{start:r,tokens:Zt}}function os(e,s,t){let i=t.length,r=0,o=[],l=[];for(;r<i;){let a=e,u=null,g=null,d=0,h=null,f=-1;for(;r<i&&!(u=a.go(t[r].t));)l.push(t[r++]);for(;r<i&&(g=u||a.go(t[r].t));)u=null,a=g,a.accepts()?(f=0,h=a):f>=0&&f++,r++,d++;if(f<0)r-=d,r<i&&(l.push(t[r]),r++);else{l.length>0&&(o.push(it(Mt,s,l)),l=[]),r-=f,d-=f;const x=h.t,w=t.slice(r-d,r);o.push(it(x,s,w))}}return l.length>0&&o.push(it(Mt,s,l)),o}function it(e,s,t){const i=t[0].s,r=t[t.length-1].e,o=s.slice(i,r);return new e(o,t)}const A={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function ls(){A.scanner=ns(A.customSchemes);for(let e=0;e<A.tokenQueue.length;e++)A.tokenQueue[e][1]({scanner:A.scanner});A.parser=rs(A.scanner.tokens);for(let e=0;e<A.pluginQueue.length;e++)A.pluginQueue[e][1]({scanner:A.scanner,parser:A.parser});return A.initialized=!0,A}function nn(e){return A.initialized||ls(),os(A.parser.start,e,en(A.scanner.start,e))}nn.scan=en;function as(e,s,t){const i=nn(e),r=[];for(let o=0;o<i.length;o++){const l=i[o];if(l.t==="nl"&&s.get("nl2br")){const a=`__linkify-el-${t.elementId++}`;r.push(p.createElement("br",{key:a}))}else if(!l.isLink||!s.check(l))r.push(l.toString());else{let a=s.render(l);if(!("key"in a.props)){const u=`__linkify-el-${t.elementId++}`,g=Object.assign({key:u},a.props);a=p.cloneElement(a,g)}r.push(a)}}return r}function sn(e,s,t){if(p.Children.count(e.props.children)===0)return e;const i=[];p.Children.forEach(e.props.children,l=>{typeof l=="string"?i.push.apply(i,as(l,s,t)):p.isValidElement(l)?typeof l.type=="string"&&s.ignoreTags.indexOf(l.type.toUpperCase())>=0?i.push(l):i.push(sn(l,s,t)):i.push(l)});const r=`__linkify-el-${t.elementId++}`,o=Object.assign({key:r},e.props);return p.cloneElement(e,o,i)}const It=e=>{let s=0;const t=({tagName:u,attributes:g,content:d})=>(g.key=`__linkify-lnk-${s++}`,g.class&&(g.className=g.class,delete g.class),p.createElement(u,g,d)),i={key:"__linkify-wrapper"};for(const u in e)u!=="options"&&u!=="as"&&u!=="tagName"&&u!=="children"&&(i[u]=e[u]);const r=new Lt(e.options,t),o=e.as||e.tagName||p.Fragment||"span",l=e.children,a=p.createElement(o,i,l);return sn(a,r,{elementId:0})},_t={rel:"noopener noreferrer",validate:{url:e=>/^https?:\/\//.test(e)}};function cs({step:e}){const s=e.inputStep;function t(o,l){fetch(`../input/${o}/${l}`,{method:"POST",headers:window.crumb.wrap({})}).then(a=>(a.ok||console.error(a),!0)).catch(a=>{console.error(a)})}const i=()=>t(s.id,"proceedEmpty"),r=()=>t(s.id,"abort");return n.jsxs("div",{className:"pgv-input-step",children:[n.jsxs("div",{className:"pgv-step-detail-header__content",children:[n.jsx(ft,{status:e.state}),n.jsx("span",{children:s.message})]}),n.jsxs("div",{className:"jenkins-buttons-row jenkins-buttons-row--equal-width pgv-input-step__controls",children:[n.jsx("button",{onClick:i,className:"jenkins-button jenkins-button--primary",children:s.ok}),n.jsx("button",{onClick:r,className:"jenkins-button",children:s.cancel})]})]})}const us=p.lazy(()=>Gt(()=>import("./assets/ConsoleLogStream-C9dO1XwQ.js"),__vite__mapDeps([0,1,2,3]),import.meta.url));function ds({tailLogs:e,scrollToTail:s,stopTailingLogs:t,step:i,stepBuffers:r,isExpanded:o,fetchLogText:l,onStepToggle:a,fetchExceptionText:u}){const g=f=>{f.button!==0||f.metaKey||f.ctrlKey||(f.preventDefault(),history.replaceState({},"","?selected-node="+i.id),a(i.id))},d=Wt(),h=i.inputStep;return h&&!h.parameters?n.jsx(cs,{step:i}):n.jsxs("div",{className:"pgv-step-detail-group",children:[n.jsxs("div",{className:q("pgv-step-detail-header","jenkins-button",{"jenkins-button--tertiary":!o}),children:[n.jsxs("a",{href:"?selected-node="+i.id,onClick:g,children:[n.jsxs("div",{className:"pgv-step-detail-header__content",children:[n.jsx(ft,{status:i.state}),i.title!==""&&n.jsx("span",{children:n.jsx(It,{options:_t,children:i.title})}),i.name!==""&&n.jsx("span",{children:n.jsx(It,{options:_t,children:i.name})}),n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"pgv-step-detail-header__chevron",style:{rotate:o?"90deg":"0deg"},children:n.jsx("path",{fill:"none",stroke:"var(--text-color-secondary)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",opacity:.75,d:"M184 112l144 144-144 144"})})]}),n.jsx("div",{className:"pgv-step-detail-header__actions",children:n.jsx("span",{style:{color:"var(--text-color-secondary)",fontWeight:"normal"},children:n.jsx(pt,{total:i.totalDurationMillis,start:i.startTimeMillis})})})]},`step-action-area-${i.id}`),n.jsx(qe,{content:d.format(ke.consoleNewTab),children:n.jsx("a",{href:`log?nodeId=${i.id}`,className:"jenkins-button jenkins-button--tertiary",target:"_blank",rel:"noreferrer","aria-label":d.format(ke.consoleNewTab),children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:n.jsx("path",{d:"M384 224v184a40 40 0 01-40 40H104a40 40 0 01-40-40V168a40 40 0 0140-40h167.48M336 64h112v112M224 288L440 72",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"})})})})]}),o&&n.jsx(hs,{tailLogs:e,scrollToTail:s,stopTailingLogs:t,stepId:i.id,stepState:i.state,stepBuffers:r,fetchLogText:l,fetchExceptionText:u,onStepToggle:a})]},`step-card-${i.id}`)}function Dt(){return{lines:[],startByte:0,endByte:ge}}function Bt(e,s){e(t=>t.startByte===s.startByte&&t.endByte===s.endByte&&t.lines===s.lines&&t.stopTailing===s.stopTailing?t:{...s})}const hs=p.memo(function({tailLogs:s,scrollToTail:t,stopTailingLogs:i,stepId:r,stepState:o,stepBuffers:l,fetchLogText:a,fetchExceptionText:u}){const[g,d]=p.useState({...l.get(r)||Dt()});p.useEffect(()=>{const v=l.get(r)||Dt();Bt(d,v)},[l,r]);const h=p.useCallback(v=>{v.then(L=>Bt(d,L)).catch(console.error)},[]);p.useEffect(()=>{h(a(r,ge))},[a,r,h]);const f=v=>v<1024?`${v}B`:v<1048576?`${(v/1024).toFixed(2)}KiB`:v<1073741824?`${(v/1048576).toFixed(2)}MiB`:`${(v/1073741824).toFixed(2)}GiB`,x=()=>{const v=g.endByte-g.startByte,L=Math.max(0,g.startByte-v);h(a(r,L))},w=()=>{if(g.lines&&g.startByte>0)return n.jsxs("button",{onClick:x,className:"pgv-show-more-logs jenkins-button jenkins-!-warning-color",children:["There’s more to see - ",f(g.startByte)," of logs hidden"]})};return n.jsxs("div",{style:{paddingTop:"0.5rem"},children:[w(),n.jsx(p.Suspense,{children:n.jsx(us,{tailLogs:s,scrollToTail:t,stopTailingLogs:i,logBuffer:g,updateLogBufferIfChanged:h,fetchLogText:a,fetchExceptionText:u,stepId:r,stepState:o})})]})});function gs({tailLogs:e,scrollToTail:s,stopTailingLogs:t,stage:i,stepBuffers:r,steps:o,onStepToggle:l,expandedSteps:a,fetchLogText:u,fetchExceptionText:g}){const{showHiddenSteps:d}=Qe();return o.length===0?null:n.jsx("div",{className:"pgv-stage-steps",children:o.filter(h=>d||!h.flags?.hidden).map(h=>n.jsx(ds,{tailLogs:e,scrollToTail:s,stopTailingLogs:t,step:h,stepBuffers:r,onStepToggle:l,isExpanded:a.includes(h.id),fetchLogText:u,fetchExceptionText:g},`step-console-card-${h.id}`))},`stage-steps-container-${i?i.id:"unk"}`)}function fs(e){return n.jsxs(n.Fragment,{children:[n.jsx(Gn,{stage:e.stage}),n.jsx(gs,{stage:e.stage,steps:e.steps,stepBuffers:e.stepBuffers,expandedSteps:e.expandedSteps,onStepToggle:e.onStepToggle,tailLogs:e.tailLogs,scrollToTail:e.scrollToTail,stopTailingLogs:e.stopTailingLogs,fetchLogText:e.fetchLogText,fetchExceptionText:e.fetchExceptionText})]})}function ps(){const e=document.getElementById("console-pipeline-root"),s=e?.dataset.currentRunPath,t=e?.dataset.previousRunPath,{stageViewPosition:i,mainViewVisibility:r}=mt(),{complete:o,tailLogs:l,scrollToTail:a,startTailingLogs:u,stopTailingLogs:g,openStage:d,openStageSteps:h,stepBuffers:f,expandedSteps:x,stages:w,handleStageSelect:v,onStepToggle:L,fetchLogText:N,fetchExceptionText:S,loading:R}=_n({currentRunPath:s,previousRunPath:t}),O=R||!R&&w.length>0,E=w.length===1&&w[0].placeholder,{canConfigure:P}=En();return n.jsxs(n.Fragment,{children:[n.jsx(Ln,{container:document.getElementById("console-pipeline-overflow-root"),children:n.jsx(Ut,{className:e?.closest(".app-build-content")?"jenkins-details__button":"",icon:yt,items:[O?n.jsx(Nn,{},"visibility-select"):n.jsx(n.Fragment,{}),{text:"View as plain text",icon:Ft,href:"../consoleText"},{text:"View classic console",icon:yn,href:"../console"},P?{text:"Configure",icon:yt,href:"../../configure"}:n.jsx(n.Fragment,{})]})}),O&&n.jsxs(Ct,{direction:i==="top"?"vertical":"horizontal",storageKey:"graph",children:[!E&&(r==="both"||r==="graphOnly")&&(R?n.jsx(ne,{}):n.jsx(bn,{stages:w,selectedStage:d||void 0,stageViewPosition:i,onStageSelect:v})),n.jsxs(Ct,{storageKey:"stages",children:[(r==="both"||r==="stagesOnly")&&!E&&n.jsx("div",{id:"tree-view-pane",className:"pgv-sticky-sidebar",children:R?n.jsxs("div",{className:"pgv-skeleton-column",children:[n.jsx(ne,{height:2.625}),n.jsx(ne,{height:20})]}):n.jsx(On,{onNodeSelect:v,selected:d?.id,stages:w})},"tree-view"),n.jsx("div",{id:"stage-view-pane",children:R?n.jsxs("div",{className:"pgv-skeleton-column",children:[n.jsx(ne,{height:2.625}),n.jsx(ne,{height:20})]}):n.jsx(fs,{tailLogs:l,scrollToTail:a,stopTailingLogs:g,stage:d,steps:h,stepBuffers:f,expandedSteps:x,onStepToggle:L,fetchLogText:N,fetchExceptionText:S})},"stage-view")]})]}),!R&&w.length===0&&n.jsx(Un,{tailLogs:l,scrollToTail:a}),n.jsx(Kn,{complete:o,loading:R,tailLogs:l,startTailingLogs:u,stopTailingLogs:g})]})}function ms(){const e=document.getElementById("console-pipeline-root").dataset.userLocale;return n.jsx(Tn,{children:n.jsx(xn,{locale:e,children:n.jsx(vn,{bundles:[jn.messages],children:n.jsx(An,{children:n.jsx(kn,{children:n.jsx(Cn,{children:n.jsx(ps,{})})})})})})})}const rn=document.getElementById("console-pipeline-root");if(!rn)throw new Error("Failed to find the root element");const xs=wn.createRoot(rn);xs.render(n.jsx(ms,{}));export{Lt as O,Vt as P,ge as T,_t as l,nn as t};
//# sourceMappingURL=pipeline-console-view-bundle.js.map
